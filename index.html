<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A runtime type system for R; interfaces, enums, typed data.frames/data.tables and functions â€¢ interface</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A runtime type system for R; interfaces, enums, typed data.frames/data.tables and functions">
<meta name="description" content="A runtime type system for R, define and implement interfaces, enums, typed data.frames/data.tables, and typed functions with zero dependencies">
<meta property="og:description" content="A runtime type system for R, define and implement interfaces, enums, typed data.frames/data.tables, and typed functions with zero dependencies">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">interface</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/intro-to-interface.html">Introduction to interface</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="articles/donate.html">Donate</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dereckmezquita/interface" target="_blank"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.youtube.com/@derecksyoutube" target="_blank"><span class="fa fa-youtube fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksprojects.com" target="_blank">derecksprojects.com</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksnotes.com" target="_blank">derecksnotes.com</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="interface">interface<a class="anchor" aria-label="anchor" href="#interface"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>interface</code> package provides a system for defining and implementing interfaces in R, with runtime type checking, bringing some of the benefits of statically-typed languages to R.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the package, use the following command:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the package from the source</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"dereckmezquita/interface"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>Import the package functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">interface</span><span class="op">[</span> <span class="va">interface</span>, <span class="va">type.frame</span>, <span class="va">fun</span>, <span class="va">enum</span> <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>Define an interface and implement it:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define an interface</span></span>
<span><span class="va">Person</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interface.html">interface</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">character</span>,</span>
<span>    age <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>    email <span class="op">=</span> <span class="va">character</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Implement the interface</span></span>
<span><span class="va">john</span> <span class="op">&lt;-</span> <span class="fu">Person</span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"John Doe"</span>,</span>
<span>    age <span class="op">=</span> <span class="fl">30</span>,</span>
<span>    email <span class="op">=</span> <span class="st">"john@example.com"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">john</span><span class="op">)</span></span>
<span><span class="co">#&gt; Object implementing interface:</span></span>
<span><span class="co">#&gt;   name: John Doe</span></span>
<span><span class="co">#&gt;   age: 30</span></span>
<span><span class="co">#&gt;   email: john@example.com</span></span>
<span><span class="co">#&gt; Validation on access: Disabled</span></span>
<span></span>
<span><span class="co"># interfaces are lists</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">john</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "John Doe"</span></span>
<span></span>
<span><span class="co"># Modify the object</span></span>
<span><span class="va">john</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">john</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span></span>
<span><span class="co"># Invalid assignment (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">john</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="st">"thirty"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error : Property 'age' must be of type numeric</span></span></code></pre></div>
<div class="section level3">
<h3 id="extending-interfaces-and-nested-interfaces">Extending Interfaces and Nested Interfaces<a class="anchor" aria-label="anchor" href="#extending-interfaces-and-nested-interfaces"></a>
</h3>
<p>Create nested and extended interfaces:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define nested interfaces</span></span>
<span><span class="va">Address</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interface.html">interface</a></span><span class="op">(</span></span>
<span>    street <span class="op">=</span> <span class="va">character</span>,</span>
<span>    city <span class="op">=</span> <span class="va">character</span>,</span>
<span>    postal_code <span class="op">=</span> <span class="va">character</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">Scholarship</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interface.html">interface</a></span><span class="op">(</span></span>
<span>    amount <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>    status <span class="op">=</span> <span class="va">logical</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extend interfaces</span></span>
<span><span class="va">Student</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interface.html">interface</a></span><span class="op">(</span></span>
<span>    extends <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Address</span>, <span class="va">Person</span><span class="op">)</span>,</span>
<span>    student_id <span class="op">=</span> <span class="va">character</span>,</span>
<span>    scores <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="va"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span>,</span>
<span>    scholarship <span class="op">=</span> <span class="va">Scholarship</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Implement the extended interface</span></span>
<span><span class="va">john_student</span> <span class="op">&lt;-</span> <span class="fu">Student</span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"John Doe"</span>,</span>
<span>    age <span class="op">=</span> <span class="fl">30</span>,</span>
<span>    email <span class="op">=</span> <span class="st">"john@example.com"</span>,</span>
<span>    street <span class="op">=</span> <span class="st">"123 Main St"</span>,</span>
<span>    city <span class="op">=</span> <span class="st">"Small town"</span>,</span>
<span>    postal_code <span class="op">=</span> <span class="st">"12345"</span>,</span>
<span>    student_id <span class="op">=</span> <span class="st">"123456"</span>,</span>
<span>    scores <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span>
<span>        subject <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Math"</span>, <span class="st">"Science"</span><span class="op">)</span>,</span>
<span>        score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95</span>, <span class="fl">88</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    scholarship <span class="op">=</span> <span class="fu">Scholarship</span><span class="op">(</span></span>
<span>        amount <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>        status <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">john_student</span><span class="op">)</span></span>
<span><span class="co">#&gt; Object implementing interface:</span></span>
<span><span class="co">#&gt;   student_id: 123456</span></span>
<span><span class="co">#&gt;   scores: Math</span></span>
<span><span class="co">#&gt;    scores: Science</span></span>
<span><span class="co">#&gt;    scores: 95</span></span>
<span><span class="co">#&gt;    scores: 88</span></span>
<span><span class="co">#&gt;   scholarship: &lt;environment: 0x116831678&gt;</span></span>
<span><span class="co">#&gt;   street: 123 Main St</span></span>
<span><span class="co">#&gt;   city: Small town</span></span>
<span><span class="co">#&gt;   postal_code: 12345</span></span>
<span><span class="co">#&gt;   name: John Doe</span></span>
<span><span class="co">#&gt;   age: 30</span></span>
<span><span class="co">#&gt;   email: john@example.com</span></span>
<span><span class="co">#&gt; Validation on access: Disabled</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-validation-functions">Custom Validation Functions<a class="anchor" aria-label="anchor" href="#custom-validation-functions"></a>
</h3>
<p>Interfaces can have custom validation functions:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">is_valid_email</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"[a-z|0-9]+\\@[a-z|0-9]+\\.[a-z|0-9]+"</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">UserProfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interface.html">interface</a></span><span class="op">(</span></span>
<span>    username <span class="op">=</span> <span class="va">character</span>,</span>
<span>    email <span class="op">=</span> <span class="va">is_valid_email</span>,</span>
<span>    age <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">18</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Implement with valid data</span></span>
<span><span class="va">valid_user</span> <span class="op">&lt;-</span> <span class="fu">UserProfile</span><span class="op">(</span></span>
<span>    username <span class="op">=</span> <span class="st">"john_doe"</span>,</span>
<span>    email <span class="op">=</span> <span class="st">"john@example.com"</span>,</span>
<span>    age <span class="op">=</span> <span class="fl">25</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">valid_user</span><span class="op">)</span></span>
<span><span class="co">#&gt; Object implementing interface:</span></span>
<span><span class="co">#&gt;   username: john_doe</span></span>
<span><span class="co">#&gt;   email: john@example.com</span></span>
<span><span class="co">#&gt;   age: 25</span></span>
<span><span class="co">#&gt; Validation on access: Disabled</span></span>
<span></span>
<span><span class="co"># Invalid implementation (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">UserProfile</span><span class="op">(</span></span>
<span>    username <span class="op">=</span> <span class="st">"jane_doe"</span>,</span>
<span>    email <span class="op">=</span> <span class="st">"not_an_email"</span>,</span>
<span>    age <span class="op">=</span> <span class="st">"30"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error : Errors occurred during interface creation:</span></span>
<span><span class="co">#&gt;   - Invalid value for property 'email': FALSE</span></span>
<span><span class="co">#&gt;   - Invalid value for property 'age': FALSE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="typed-functions">Typed Functions<a class="anchor" aria-label="anchor" href="#typed-functions"></a>
</h3>
<p>Define functions with strict type constraints:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">typed_fun</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fun.html">fun</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>    y <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>    return <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>    impl <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">typed_fun</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>  <span class="co"># [1] 3</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">typed_fun</span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Invalid call</span></span>
<span><span class="co">#&gt; Error : Property 'x' must be of type numeric</span></span></code></pre></div>
<p>Functions with multiple possible return types:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">typed_fun2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fun.html">fun</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">numeric</span>, <span class="va">character</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>    return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">numeric</span>, <span class="va">character</span><span class="op">)</span>,</span>
<span>    impl <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span></span>
<span>        <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">typed_fun2</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>  <span class="co"># [1] 3</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">typed_fun2</span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>  <span class="co"># [1] "a 2"</span></span>
<span><span class="co">#&gt; [1] "a 2"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="typed-data-frames-and-data-tables">Typed Data Frames and Data Tables<a class="anchor" aria-label="anchor" href="#typed-data-frames-and-data-tables"></a>
</h3>
<p>Create data frames with column type constraints and row validation:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PersonFrame</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/type.frame.html">type.frame</a></span><span class="op">(</span></span>
<span>    frame <span class="op">=</span> <span class="va">data.frame</span>, </span>
<span>    col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="va">integer</span>,</span>
<span>        name <span class="op">=</span> <span class="va">character</span>,</span>
<span>        age <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>        is_student <span class="op">=</span> <span class="va">logical</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a data frame</span></span>
<span><span class="va">persons</span> <span class="op">&lt;-</span> <span class="fu">PersonFrame</span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>    name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span><span class="op">)</span>,</span>
<span>    age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">30</span>, <span class="fl">35</span><span class="op">)</span>,</span>
<span>    is_student <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">persons</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1mTyped Data Frame Summary:[0m</span></span>
<span><span class="co">#&gt; Base Frame Type: data.frame</span></span>
<span><span class="co">#&gt; Dimensions: 3 rows x 4 columns</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [1mColumn Specifications:[0m</span></span>
<span><span class="co">#&gt;   id         : integer</span></span>
<span><span class="co">#&gt;   name       : character</span></span>
<span><span class="co">#&gt;   age        : numeric</span></span>
<span><span class="co">#&gt;   is_student : logical</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [1mFrame Properties:[0m</span></span>
<span><span class="co">#&gt;   Freeze columns : Yes</span></span>
<span><span class="co">#&gt;   Allow NA       : Yes</span></span>
<span><span class="co">#&gt;   On violation   : error</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [1mData Preview:[0m</span></span>
<span><span class="co">#&gt;   id    name age is_student</span></span>
<span><span class="co">#&gt; 1  1   Alice  25       TRUE</span></span>
<span><span class="co">#&gt; 2  2     Bob  30      FALSE</span></span>
<span><span class="co">#&gt; 3  3 Charlie  35       TRUE</span></span>
<span></span>
<span><span class="co"># Invalid modification (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">persons</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `$&lt;-.typed_frame`(`*tmp*`, id, value = c("a", "b", "c")) : </span></span>
<span><span class="co">#&gt;   object 'col_name' not found</span></span></code></pre></div>
<p>Additional options for data frame validation:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PersonFrame</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/type.frame.html">type.frame</a></span><span class="op">(</span></span>
<span>    frame <span class="op">=</span> <span class="va">data.frame</span>,</span>
<span>    col_types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="va">integer</span>,</span>
<span>        name <span class="op">=</span> <span class="va">character</span>,</span>
<span>        age <span class="op">=</span> <span class="va">numeric</span>,</span>
<span>        is_student <span class="op">=</span> <span class="va">logical</span>,</span>
<span>        gender <span class="op">=</span> <span class="fu"><a href="reference/enum.html">enum</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>,</span>
<span>        email <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    freeze_n_cols <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    row_callback <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">row</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">row</span><span class="op">$</span><span class="va">age</span> <span class="op">&gt;=</span> <span class="fl">40</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Age must be less than 40 (got %d)"</span>, <span class="va">row</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">row</span><span class="op">$</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Yanice"</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">"Name cannot be 'Yanice'"</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    allow_na <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    on_violation <span class="op">=</span> <span class="st">"error"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">PersonFrame</span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>    name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span><span class="op">)</span>,</span>
<span>    age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">35</span>, <span class="fl">35</span><span class="op">)</span>,</span>
<span>    is_student <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span><span class="op">)</span>,</span>
<span>    email <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alice@test.com"</span>, <span class="st">"bob_no_valid@test.com"</span>, <span class="st">"charlie@example.com"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1mTyped Data Frame Summary:[0m</span></span>
<span><span class="co">#&gt; Base Frame Type: data.frame</span></span>
<span><span class="co">#&gt; Dimensions: 3 rows x 6 columns</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [1mColumn Specifications:[0m</span></span>
<span><span class="co">#&gt;   id         : integer</span></span>
<span><span class="co">#&gt;   name       : character</span></span>
<span><span class="co">#&gt;   age        : numeric</span></span>
<span><span class="co">#&gt;   is_student : logical</span></span>
<span><span class="co">#&gt;   gender     : Enum(M, F)</span></span>
<span><span class="co">#&gt;   email      : custom function</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [1mFrame Properties:[0m</span></span>
<span><span class="co">#&gt;   Freeze columns : No</span></span>
<span><span class="co">#&gt;   Allow NA       : No</span></span>
<span><span class="co">#&gt;   On violation   : error</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [1mData Preview:[0m</span></span>
<span><span class="co">#&gt;   id name age is_student gender email</span></span>
<span><span class="co">#&gt; 1  1 TRUE   1       TRUE   TRUE  TRUE</span></span>
<span><span class="co">#&gt; 2  1 TRUE   1       TRUE   TRUE  TRUE</span></span>
<span><span class="co">#&gt; 3  1 TRUE   1       TRUE   TRUE  TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;        id        name                age    is_student    </span></span>
<span><span class="co">#&gt;  Min.   :1   Length:3           Min.   :1   Mode:logical  </span></span>
<span><span class="co">#&gt;  1st Qu.:1   Class :character   1st Qu.:1   TRUE:3        </span></span>
<span><span class="co">#&gt;  Median :1   Mode  :character   Median :1                 </span></span>
<span><span class="co">#&gt;  Mean   :1                      Mean   :1                 </span></span>
<span><span class="co">#&gt;  3rd Qu.:1                      3rd Qu.:1                 </span></span>
<span><span class="co">#&gt;  Max.   :1                      Max.   :1                 </span></span>
<span><span class="co">#&gt;  gender.Length  gender.Class  gender.Mode    email          </span></span>
<span><span class="co">#&gt;  1        -none-   logical                Length:3          </span></span>
<span><span class="co">#&gt;  1        -none-   logical                Class :character  </span></span>
<span><span class="co">#&gt;  1        -none-   logical                Mode  :character  </span></span>
<span><span class="co">#&gt;                                                             </span></span>
<span><span class="co">#&gt;                                                             </span></span>
<span><span class="co">#&gt; </span></span>
<span></span>
<span><span class="co"># Invalid row addition (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"David"</span>,</span>
<span>    age <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    is_student <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    email <span class="op">=</span> <span class="st">"d@test.com"</span></span>
<span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in rbind(deparse.level, ...) : Number of columns must match</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="enums">Enums<a class="anchor" aria-label="anchor" href="#enums"></a>
</h3>
<p>Define enums for categorical variables; these are safe to use to protect a value from being modified to invalid options. The <code>enum</code> function creates a generator which is then used to create the enum object. This can be used standalone or as part of an interface.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Colour</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/enum.html">enum</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create an enum object</span></span>
<span><span class="va">colour</span> <span class="op">&lt;-</span> <span class="fu">Colour</span><span class="op">(</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span></span>
<span><span class="co">#&gt; Enum: red</span></span>
<span></span>
<span><span class="va">colour</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;-</span> <span class="st">"green"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">colour</span><span class="op">)</span></span>
<span><span class="co">#&gt; Enum: green</span></span>
<span></span>
<span><span class="co"># Invalid modification (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">colour</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;-</span> <span class="st">"yellow"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `$&lt;-.enum`(`*tmp*`, value, value = "yellow") : </span></span>
<span><span class="co">#&gt;   Invalid value. Must be one of: red, green, blue</span></span>
<span></span>
<span><span class="co"># Use in an interface</span></span>
<span><span class="va">Car</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interface.html">interface</a></span><span class="op">(</span></span>
<span>    make <span class="op">=</span> <span class="fu"><a href="reference/enum.html">enum</a></span><span class="op">(</span><span class="st">"Toyota"</span>, <span class="st">"Ford"</span>, <span class="st">"Chevrolet"</span><span class="op">)</span>,</span>
<span>    model <span class="op">=</span> <span class="va">character</span>,</span>
<span>    colour <span class="op">=</span> <span class="va">Colour</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Implement the interface</span></span>
<span><span class="va">car1</span> <span class="op">&lt;-</span> <span class="fu">Car</span><span class="op">(</span></span>
<span>    make <span class="op">=</span> <span class="st">"Toyota"</span>,</span>
<span>    model <span class="op">=</span> <span class="st">"Corolla"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"red"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">car1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Object implementing interface:</span></span>
<span><span class="co">#&gt;   make: Toyota</span></span>
<span><span class="co">#&gt;   model: Corolla</span></span>
<span><span class="co">#&gt;   colour: red</span></span>
<span><span class="co">#&gt; Validation on access: Disabled</span></span>
<span></span>
<span><span class="co"># Invalid implementation (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">Car</span><span class="op">(</span></span>
<span>    make <span class="op">=</span> <span class="st">"Honda"</span>,</span>
<span>    model <span class="op">=</span> <span class="st">"Civic"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"yellow"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error : Errors occurred during interface creation:</span></span>
<span><span class="co">#&gt;   - Invalid enum value for property 'make': Invalid value. Must be one of: Toyota, Ford, Chevrolet</span></span>
<span><span class="co">#&gt;   - Invalid enum value for property 'colour': Invalid value. Must be one of: red, green, blue</span></span>
<span></span>
<span><span class="co"># Invalid modification (throws error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">car1</span><span class="op">$</span><span class="va">colour</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;-</span> <span class="st">"yellow"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `$&lt;-.enum`(`*tmp*`, value, value = "yellow") : </span></span>
<span><span class="co">#&gt;   Invalid value. Must be one of: red, green, blue</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">car1</span><span class="op">$</span><span class="va">make</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;-</span> <span class="st">"Honda"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `$&lt;-.enum`(`*tmp*`, value, value = "Honda") : </span></span>
<span><span class="co">#&gt;   Invalid value. Must be one of: Toyota, Ford, Chevrolet</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>interface</code> package provides powerful tools for ensuring type safety and validation in R. By defining interfaces, typed functions, and typed data frames, you can create robust and reliable data structures and functions with strict type constraints. For more details, refer to the package documentation.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dereckmezquita/interface/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing interface</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://derecksnotes.com" class="external-link">Dereck Mezquita</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9307-6762" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://travis-ci.org/dereckmezquita/kucoin" class="external-link"><img src="https://travis-ci.org/dereckmezquita/kucoin.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://derecksnotes.com" class="external-link">Dereck Mezquita</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
